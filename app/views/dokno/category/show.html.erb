<section class="p-10 bg-gray-200">
  <div class="float-right mt-3">
    <% if @category.present? %>
      <button class="bg-gray-700 text-gray-100 hover:text-white rounded ml-5 py-1 px-4 text-lg font-bold" onclick="location.href='<%= edit_category_path(@category.id) %>';"><i data-feather="edit-2" class="inline h-5"></i> EDIT CATEGORY</button>
    <% end %>
    <button class="bg-gray-700 text-gray-300 hover:text-white rounded ml-5 py-1 px-3 text-lg font-bold" onclick="location.href='<%= new_category_path(@category&.id) %>';"><i data-feather="plus" class="inline"></i> ADD CATEGORY</button>
    <button class="bg-gray-700 text-gray-300 hover:text-white rounded ml-5 py-1 px-3 text-lg font-bold"><i data-feather="plus" class="inline"></i> ADD ARTICLE</button>
  </div>

  <h1 class="text-4xl font-semibold mb-10">Article Category</h1>

  <div>
    <select name="category_id" id="category_id" size="1" class="rounded text-xl shadow p-2 w-full max-w-full" onchange="location.href='<%= category_path %>/' + this.value;">
      <option>Select a category</option>
      <%= Dokno::Category.select_option_markup(selected_category_id: @category&.id.to_i).html_safe %>
    </select>
  </div>
</section>

<section class="p-10 bg-gray-100">
  <% if @category.present? %>
    <div class="mb-10">
      <% if @category.breadcrumb != @category.name %>
        <div class="text-gray-500"><%= @category.breadcrumb %></div>
      <% end %>
      <h2 class="text-3xl font-semibold"><%= @category.name %></h2>
    </div>
  <% end %>

  <% if @articles.blank? %>
    <div class="p-10 bg-white rounded-lg shadow">
      No articles found <% if @category.present? %>in this category<% end %>
    </div>
  <% else %>
    <% @articles.each_with_index do |article, i| %>
      <div class="p-10 bg-white rounded-lg shadow text-lg <%= 'mt-10' if i > 0 %>">
        <div><a href="<%= article_path article.id %>"><%= article.title %></a></div>
        <div class="text-gray-500"><%= article.category_name_list %></div>
        <% if article.summary.present? %>
          <div class="mt-2"><%= article.summary %></div>
        <% end %>
      </div>
    <% end %>
  <% end %>
</section>